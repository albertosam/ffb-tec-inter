<div class="py-5">
  <div class="card">
    <h5 class="card-header">Tirlhas de Certificação</h5>
    <div class="card-body">
      <button class="btn btn-primary mb-3" (click)="new()">Novo</button>
      <table class="table table-dark">
        <tr>
          <th>Descrição</th>
          <th>Ano</th>
          <th></th>
        </tr>
        <tr *ngFor="let item of trilhas">
          <td>{{item.descricao}}</td>
          <td>{{item.ano}}</td>
          <td><button class="btn btn-info" (click)="trilha = item">Selecionar</button></td>
        </tr>
      </table>
    </div>
  </div>
    <div class="card m-t">
        <h5 class="card-header">Trilha de Certificação</h5>        
        <div class="card-body">
            <form id="formTrilha" #formulario="ngForm">
                <div class="form-group">
                    <label for="campo">Nome da Trilha</label>
                    <input type="text" class="form-control" id="campo" [(ngModel)]="trilha.descricao" name="descricao" required />
                </div>
                <div class="form-group">
                    <label for="anoCombobox">Ano</label>
                    <select class="form-control" id="anoCombobox" [(ngModel)]="trilha.ano" name="ano" required>
                        <option value="0">Selecione</option>
                        <option value="2021">2021</option>
                        <option value="2022">2022</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Notificações de Atualização</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1"
                            [value]="true" checked [(ngModel)]="trilha.notificar">
                        <label class="form-check-label" for="exampleRadios1">
                            Notificar por e-mail
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2"
                            [value]="false" [(ngModel)]="trilha.notificar">
                        <label class="form-check-label" for="exampleRadios2">
                            Não notificar
                        </label>
                    </div>
                </div>

                <div class="form-group form-check">
                    <input type="checkbox" class="form-check-input" id="ativoCheck" [(ngModel)]="trilha.ativo" name="ativo">
                    <label class="form-check-label" for="ativoCheck" >Ativo</label>
                </div>


                <div class="row">
                    <div class="col-sm">
                        <div class="list" *ngFor="let itemTrilha of trilha?.certificacoes">
                            <select class="form-control" [(ngModel)]="itemTrilha.certificacaoId" [ngModelOptions]="{standalone: true}">
                                <option value="">Selecione</option>
                                <option *ngFor="let item of certificacoes" [value]="item.id">
                                    {{ item.codigo + ' - ' + item.descricao }} </option>
                            </select>

                        </div>
                        <div class="m-t">
                            <button class="btn btn-block btn-success" (click)="addItem()">Adicionar</button>
                        </div>
                    </div>
                </div>

                <div class="py-5">
                  <button type="submit" class="btn btn-primary" (click)="save()" [disabled]="!formulario.valid">Salvar</button>
                  <button type="button" class="btn btn-default m-l-md" onclick="limpar()">Limpar</button>

                  <button type="button" class="btn btn-danger m-l-md right" *ngIf="trilha?.id" (click)="remove()">Excluir</button>
                </div>

            </form>
        </div>
    </div>
</div>
